<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CSS block layout variable</title>
</head>

<style>
    * {
        background-color: rgba(0, 0, 0, 0.08);
        box-shadow: inset 0 0 1px red;
    }

    section {
        overflow: hidden;
        width: calc((var(--column-width) + var(--gap)) * var(--column) - var(--gap));

        margin: auto;

        --column: 4;
        --column-width: 100px;
        --gap: 16px;
    }

    div {
        width: calc((var(--column-width) + var(--gap) * 2) * var(--column));

        overflow: hidden;
        margin: calc(var(--gap) * -1 / 2);
    }

    span {
        float: left;
        width: var(--column-width);
        height: 40px;
        box-sizing: border-box;
        border: 3px solid blue;
        margin: calc(var(--gap) / 2);

        line-height: 34px;
    }
</style>

<body>
<section>
    <div>
        <span id="span01">span01</span>
        <span id="span02">span02</span>
        <span id="span03">span03</span>
        <span id="span04">span04</span>
        <span id="span05">span05</span>
        <span id="span06">span06</span>
        <span id="span07">span07</span>
        <span id="span08">span08</span>
        <span id="span09">span09</span>
        <span id="span10">span10</span>
        <span id="span11">span11</span>
        <span id="span12">span12</span>
    </div>
</section>
</body>
</html>
